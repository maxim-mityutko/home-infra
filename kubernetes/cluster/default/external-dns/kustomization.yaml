apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default
resources:
  - secret.yaml
helmCharts:
  - name: external-dns
    namespace: default
    releaseName: external-dns
    version: 7.5.2
    repo: registry-1.docker.io/bitnamicharts/external-dns
    valuesInline:
      sources:
        - crd
        # - ingress
      provider: cloudflare
      cloudflare:
        secretName: cloudflare-external-dns
        proxied: false
      crd:
        create: true
      resourcesPreset: nano
      metrics:
        enabled: true